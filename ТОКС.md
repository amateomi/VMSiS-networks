## 1. Понятие компьютерной сети

Компьютерная сеть – совокупность компьютеров и другого оборудования, предназначенная для передачи файлов и сообщений на большие расстояния (за пределы компьютеров).

В основе КС лежит сеть передачи данных (СПД), задействующая среды передачи данных (СрПД).

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/3fe84411-52a9-4296-9831-5dcc9e8c39c8)

Группы устройств в СПД:
- Оконечные - находятся по периметру СПД
- Посредники - составляют ядро СПД

Типы трафика в СПД:
- Обычные компьютерные данные
- Голос
- Видео

Особенности трафика обеспечиваются Quality of Service (обычно актуально для голоса и видео).

## 2. Классификация компьютерных сетей

С одной стороны выделяют:
- Local Area Networks (LANs) – локальные КС (подразумевают определенные технологии и территориальный охват не больше кампуса)
- Wide Area Networks (WANs) – глобальные КС (выделяются технологически, может охватывать произвольную территорию)
- Metropolitan Area Networks (MANs) – городские КС (промежуточный вариант между LAN и WAN)
- Personal Area Networks (PANs) – личные КС (для подключения к компьютеру периферийных устройств)

С другой стороны выделяют:
- Internets – КС публичного доступа (почти все объединены в Internet)
- Intranets – внутренние КС компаний (почти всегда имеют связь с Internet)

По взаимодействию:
- Сильносвязанные (хост-терминальная модель, когда все вычисления происходят на хосте, а терминалы служат для ввода/вывода)
- Слабосвязанные (клиент-серверная модель, когда сервер обслуживает запросы пользователей-клиентов)

## 3. Стандарты компьютерных сетей

- Интернациональные (ISO)
- Европейские (EN)
- Американские (ANSI)

Воплощением стандарта является реализация (implementation), которая проверяется на соответствие по средствами сертификации (certification).

В IEEE есть комитет для стандартизации КС, занимающийся стандартами семейства 802.x. Наиболее известные стандарты комитета:
- 802.3 – Ethernet (обычный до 10 Мбит/c, Fast – 100 Мбит/с, Gigabit больше гигабита)
- 802.11 – Wi-Fi
- 802.16 – WiMax

## 4. Наиболее распространенные модели компьютерных сетей

- Open System Interconnection (OSI/ISO)
- TCP/IP

OSI состоит из 7 уровней: физический, канальный, сетевой, транспортный, сессионный и прикладной, выше находится конечный пользователь.

Взаимодействие в рамках OSI:
- Интерфейс (вертикальное) – правила взаимодействия между соседними уровнями в иерархии
- Протокол (горизонтальное) – правила взаимодействия разных устройств на одном уровне иерархии

TCP/IP состоит из 4 уровней: канальный, межсетевой, транспортный и прикладной.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/7172ff0f-8f59-4a8d-bd4c-5db8fbae48fc)

## 5. Физический уровень модели OSI

Задача: формализация подключения устройств к СрПД и передача сигнала (битов).

Специфические понятия:
- Среда
- Разъем/физический порт
- Несущая частота
- Модуляция
- Сигнал

## 6. Канальный уровень модели OSI

Задача: формализация взаимодействия станций в пределах сегмента.

Станция – устройство способное принимать или передавать сетевой трафик.
Сегмент – множество станций, объединенных посредством одной СрПД.

Канальный уровень разделяют на 2 подуровня:
- MAC (Media Access Control) – контроль доступа к СрПД (адресация, кодирование и распознавание фреймов)
- LLC (Logical Link Control) – контроль логического соединения (разбиение пакетов на фреймы и их сборка).

Специфические понятия:
- Сегмент сети
- Топология сегмента
- Кадр (фрейм)
- Бит и байт стаффинг
- Адресация в сегменте
- Код проверки целостности кадра
- Алгоритм доступа к моноканалу

## 7. Сетевой уровень модели OSI

Задача: формализовать реализацию КС на базе произвольного числа сегментов.

Выполняет поиск пути для передачи в данных в КС.

Основные протоколы:
- IPv4
- IPv6

Специфические понятия:
- Пакет
- Адресация в пределах КС
- Маршрутизация

## 8. Транспортный и сеансовый уровни модели OSI

Задача транспортного уровня: формализация использования программами сетевого оборудования.

Задача сессионного уровня: предоставления доступа к транспорту всем процессам в многозадачных ОС.

В практических реализациях сеансовый уровень выделен очень слабо и обычно совмещен с транспортным.

Специфические понятия:
- Сегмент и датаграмма
- Программный порт
- Логические соединение
- Надежность доставки
- Алгоритм мультиплексирования программ

## 9. Прикладной уровень и уровень представления модели OSI

Задача прикладного уровня: решение конкретных задач пользователя с помощью КС (пересылка электронных писем, сообщений, видео, аудио и т.д.)

Задача уровня представления: адаптация прикладной информации в форму, пригодную для передачи по КС (сжатие, шифрование).

Эти уровни часто совмещаются.

Можно перечислить прикладные протоколы.

## 10. Семейство протоколов TCP/IP

Internet базируется на стеке протоколов TCP/IP. Хоть в названии модели TCP/IP и указаны 2 конкретных протокола, но ими не ограничивается всё семейство:

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/e69d167f-b56e-43d8-be9f-b9f9f4455fe3)

## 11. Эволюция COM-портов и их место в современных ПК

В 70-х годах инженеры Intel разработали контроллеры последовательных портов: 8250(UART) и 8251(USART). Подключались по шине X-Bus, в последствии ISA.

Позже был разработан 16550, ставший де факто стандартом в индустрии. Среди нововведений можно отметить повышенную пропускную способность и возможность буферизации.

Позже контроллеры стали размещать на мультикартах (Multi I/O), подключаемых к ПК по ISA. В последствии Multi I/O стали интегрировать в материнскую плату. А во времена Pentium контроллеры 16550 стали частью Super I/O.

Сегодня на материнских платах нет встроенных контроллеров COM-портов, они устарели и заменены USB, однако всё ещё выпускаются соответствующие мультикарты, но уже подключаемые по PCI.

## 12. Структура COM-портов ПК

UART 16550 сочетает в себе функции как приемника так и передатчика. В соответствии со стандартом RS-232 есть возможность коммуникации по двунаправленному физическому каналу связи. На аппаратном уровне приемник и передатчик работают параллельно т.е. по отдельным физическим цепям полностью независимо друг от друга. Для физического подключения по стандарту RS-232 используют девятиконтактные разъемы DE-9. Передатчик и приемник COM-порта представляют из себя сдвиговые регистры: данные, предварительно записанные в регистр передатчика параллельно, последовательно сдвигаются в линию под воздействием тактовых импульсов.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/ae0de35f-557d-4a42-b7ed-87c9275ad540)

## 13. Цепи RS-232 и их использование

- SOUT (Serial Output) – выход передатчика
- SIN (Serial Input) – вход приемника
- RTS (Request to Send) – запрос о передаче от UART к модему
- CTS (Clear to Send) – подтверждение от модема к UART
- DSR (Data Set Ready) – сигнал от модема к UART о готовности к взаимодействию
- DTR (Data Terminal Ready) – сигнал от UART к модему о готовности к взаимодействию
- DCD (Data Carrier Detect) – сигнал от модема к UART об обнаружении данных
- RI (Ring Indicator) – сигнал от модема к UART об обнаружении звонка
- GND (Ground) – общая земля

Алгоритмы контроля могут реализовывать программно и закладывать в драйверы ОС.

Основные методы контроля:
- RTS/CTS – полуаппаратный
- XON/XOFF – программный (по линии передаются специальные байты, обозначающие начало и конец передачи данных)

## 14. Асинхронный режим работы COM-порта

При асинхронном режиме синхронизируется посылка каждого информационного байта. По умолчанию линия находится в состоянии логической единицы, перед передачей линия выставляется в логический ноль (старт-бит), а после переходит в исходное состояние путем передачи стоп-бита (может быть один, полтора либо два). Ошибки отслеживаются приемником путем анализа бита четности.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/6fb61f4d-ccbf-4ece-91b8-6a7e7c34d307)

## 15. Синхронный режим работы COM-порта

При синхронном режиме синхронизируется весь информационный поток. При простое линия заполняется специальными байтами синхронизации, все передаваемые байты передаются без обрамления. Ошибки отслеживаются приемником.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/b54f9a5d-a8f9-4f0f-8457-9c96cbcaa464)

## 16. Тактирование COM-порта

Тактирование сдвиговых регистров UART 16550 осуществляется с помощью встроенного программируемого бод-генератора. Бод-генератор представляет из себя программируемый делитель частоты. Выходная частота рассчитывается по формуле:

𝐹𝑜𝑢𝑡 = 𝐹𝑖𝑛 / (16∗𝐷𝐿),

Где 𝐹𝑖𝑛 – входная частота, а DL – 16ти битная константа, старшая и младшая
части которой хранятся в регистрах DLL и DLM, нулевое значение для DL
использовать не рекомендуется.

Один бод равен одному сигналу в секунду (для COM-порта совпадает с бит/с).

## 17. Архитектура COM-портов ПК

В стандартной архитектуре ПК для COM1 и COM2 зарезервированы следующие диапазоны программных портов в адресном пространстве процессора: 3F8h – 3FFh, 2F8h – 2FFh. UART предполагает 12 регистров, инициализацией которых занимается соответствующая программа. Есть возможность работы по прерываниям IRQ3 и IRQ4.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/d39c8b18-20d9-46b9-a173-e9fc44a2481e)

## 18. Стандарты, близкие к RS-232

Главным минусом RS-232 является невозможность подключение более двух устройств. Для решения этой проблемы и не только были разработаны RS-422 и RS-485.

| Характеристика                             | RS-232                                  | RS-422                | RS-485                |
| ------------------------------------------ | --------------------------------------- | --------------------- | --------------------- |
| Способ передачи сигнала                    | Изменение потенциала относительно земли | Дифференциальная пара | Дифференциальная пара |
| Максимальное количество передатчиков       | 1                                       | 1                     | 32                    |
| Максимальное количество приемников         | 1                                       | 10                    | 32                    |
| Максимальная пропускная способность Мбит/с | 1                                       | 10                    | 10                    |
| Максимальное расстояние, м                 | 15                                      | 1200                  | 1200                  |

## 19. Структура типового пакета компьютерной сети

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/e23dfc17-7cdb-4761-8992-ef9daaff3598)

Flag – флаг начала пакета
Destination address – адрес назначения пакета
Source address – адрес станции, пославшей пакет
Other fields – специфичные поля и флаги, зависит от конкретной реализации
Data – полезная нагрузка (включая аналогичные заголовки вышестоящих уровней)
FCS (Frame Check Sequence) – контрольная сумма пакета, позволяет проверить целостность пакета, а иногда и исправить произошедшие ошибки.

## 20. Инкапсуляция и её проявления в компьютерных сетях

Инкапсуляция предполагает добавление к исходным пересылаемым пользовательским данным некоторых заголовков нижестоящих протоколов модели OSI сверху вниз. Например, пользователь посылает HTTP запрос на сервер, представляющий из себя HTTP заголовок и данные, после спуска по модели OSI до физического уровня, инкапсулированные данные для пересылки могут выглядеть так:

Ethernet заголовок | IPv4 заголовок | TCP заголовок | HTTP заголовок | пользовательские данные

Принимающая сторона будет разбирать все эти заголовки снизу вверх, пока не дойдет до непосредственно пользовательских данных.

Туннелирование – передача пакетов уровня Lx вкладывая их в пакеты того же уровня Lx.

Фрагментация – разбиение данных на части для передачи цепочки пакетов. Может понадобиться если данные не помещаются в соответствующее поле, также может быть необходимо дописать нули в полезную нагрузку, если длинна данных наоборот меньше.

## 21. Бит-стаффинг

Необходим для однозначного определения флага начала пакета. Применяется в аппаратных реализациях. Классическим флагом начала пакета является 01111110b, если в передаваемых данных вдруг по середине пакета встречается эта последовательность, то она модифицируется добавлением, например, единицы:

01111110 -> 011111110

Принимающая сторона в свою очередь будет знать, что надо убрать одну единицу при последовательности из 7 единиц.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/902b53da-fbda-4200-940b-aabf3cbed615)

## 22. Байт-стаффинг

Необходим для однозначного определения флага начала пакета. Применяется в программных реализациях. Заключается в замене байта, совпадающего с флагом начала, на некоторый другой байт X. Однако в пакете также может встречаться и этот байт X, для решения этой проблемы, после каждого такого байта X добавляется специальный ESC-символ, позволяющий однозначно определить, является ли байт X заменой для флага начала, либо это непосредственно байт X. Алгоритм может применяться и для последовательностей байт.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/47523f9e-8d2c-49e0-ae29-5607a36020ea)

## 23. Особенности линейного кодирования и классификация линейных кодов, применяемых в КС

Линейные коды необходимы для избегания девиаций несущей при долгой передачи одного уровня сигнала. Для этого все линейные коды направлены
на преобразование битовых последовательностей, чтобы в линию постоянно приходили изменения в виде равномерного чередования нулей и единиц.

Факторы классификации линейных кодов:
1. Кодирование уровнями либо переходами
2. Наличие инвертирования
3. Однополярность либо многополярность
4. Наличие возврата к нулю
5. Наличие самосинхронизации
6. Наличие перестановки или подмены битов

## 24. Линейные коды без возврата к нулю и с возвратом к нулю

NRZ-коды выражаются в изменении уровней между тактами, может применяться инвертирование. В более сложных случаях смена текущего уровня кодируется нулем(space) или единицей (mark).

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/e357a429-f743-4fd9-b5dc-b7a90b4878df)

Используется в RS-232 и USB.

RZ-коды также выражаются в изменении уровней между тактами, но на половине каждого такта всегда происходит возврат к нулю. Двухполярные RZ-коды обладают свойством самосинхронизации.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/34199f6b-950e-46ed-ad66-499e7e8ed498)

## 25. Манчестерские и многоуровневые линейные коды

Манчестерским кодам характерен переход между уровней во время такта. Обычно ноль кодируется переходом от логической единицы к нулю, а единица – переходом от логического нуля к единице. Возможна и инверсная реализация. Манчестерские коды обладают свойством самосинхронизации.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/4e9230e4-10d2-453c-bf85-faf206aa8480)

MLT-коды выражаются в переключении между несколькими уровнями между тактами. Например, MLT-3 имеет три уровня: -1, 0, +1. Ноль кодируется сохранением текущего уровня, а единица – переходом к соседнему с сохранением направления, если возможно.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/1339ce58-659c-4438-8d98-ef04c1db3169)

Применяется в Fast Ethernet.

## 26. Блочные линейные коды

Заключаются в замене блоков бит входных последовательностей на большие блоки в выходной последовательности.

Блочные коды могут комбинироваться с другими кодами.

Имеет контрольные последовательности.

Самыми популярными кодировками являются 4b/5b и 8b/10b применяемые в различных стандартах Ethernet: первый в Fast Ethernet, а второй в оптоволоконном Gigabit Ethernet.

## 27. Поля Галуа и их применение в компьютерных сетях

Помехоустойчивое кодирование основывается на полях Галуа. Поля Галуа принято записывать GF(p^n), где p – простое число, характеристика поля; n
– порядок поля. С точки зрения компьютерных вычислений естественно использовать p = 2. Например, GF(2^3) представляет из себя поле из чисел
от 0 до 7.

Поле Галуа состоит из конечного числа чисел, все операции над которыми дают в результате некоторое другое число из этого же поля Галуа. Операция сложения совпадает с операцией вычитания и представляет из себя поразрядный XOR. При умножении результат необходимо поделить на некоторый выбранный полином степени n также известный как порождающий. Деление представляет из себя умножение на обратный полином, при этом порождающий полином должен быть неприводим по модулю p.

## 28. Модель помехоустойчивого канала связи и теорема Шеннона

Теорема Шеннона утверждает, что любой дискретный канал имеет конечную пропускную способность и этот канал может быть задействован для передачи информации со сколь угодно большой степенью достоверности, не смотря на наличие помех.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/387b9cc9-c2da-4538-bc0b-50ab84b849a0)

Передаваемое сообщение разбивается на блоки фиксированного размера A, после кодируется функцией f, увеличивая длину каждого блока и получая C, в процессе пересылки накладывается вектор ошибок E, после C + E декодируется и полученный результат A` в идеале совпадающий с A.

## 29. Линейные помехоустойчивые коды, включая коды Хэмминга и циклические коды

Линейные помехоустойчивые коды предоставляют возможность обнаружения ошибок в пересланном сообщении и иногда могут их исправить (самокоррекция).

Биты исходного сообщения называются информационными, к ним добавляются проверочные биты, чаще всего в конец, но могут и чередоваться с информационными.

Код Хэмминга – самоконтролирующийся и самокорректирующийся код, позволяющий находить множество ошибок и исправлять одну.

Циклический код позволяет исправить одну и более ошибок и обнаружить множественные ошибки. Идея заключается в делении информационных битов на некоторый порождающий неприводимый полином и передачи остатка от деления в виде контрольной суммы. Принимающая сторона повторяет деление полученной последовательности и в случае получения нуля в остатке, сообщение передано успешно. Если же остаток не равен нулю, то вступает алгоритм восстановления сообщения.

## 30. Классификация помехоустойчивых кодов

С одной стороны:
- Коды, обнаруживающие ошибки
- Коды, исправляющие ошибки (нахождение её позиции)

С другой стороны:
- Линейные коды
- Коды для контроля модульных и пакетных ошибок
- Сверточные коды
- Арифметические коды
- Низкоскоростные коды

## 31. Классификация каналов в сети передачи данных

По направленности:
- Симплексном (передача по каналу возможна только в одном направлении)
- Полудуплексном (данные могут передаваться в обоих направлениях, но в один момент времени возможна передача только в одном направлении)
- Полнодуплексном (данные могут передаваться в обоих направлениях одновременно)

Сейчас доминируют полнодуплексные каналы.

Последовательный канал может быть:
- Выделенным (зарезервирован за определенной парой станций-абонентов)
- Разделяемым (может использоваться несколькими станциями-абонентами)

## 32. Логические и физические топологии LAN

Разделяют следующие типы топологий:
- Point-to-point (связывает две станции)
- Multipoint-to-multipoint (связывает более двух станций)

Однонаправленные (очень редко):
- Point-to-multipoint
- Multipoint-to-point

Разделяют два вида топологий:
- Физическая топология (отражает физические связи между устройствами)
- Логическая топология (отражает логические связи между устройствами)

LAN характерны топологии:
- Шина (bus)
- Кольцо (ring)
- Звезда (star)

## 33. Логические и физические топологии WAN и RAS

Разделяют следующие типы топологий:
- Point-to-point (связывает две станции)
- Multipoint-to-multipoint (связывает более двух станций)

Однонаправленные (очень редко):
- Point-to-multipoint
- Multipoint-to-point

Разделяют два вида топологий:
- Физическая топология (отражает физические связи между устройствами)
- Логическая топология (отражает логические связи между устройствами)

WAN характерны топологии:
- Сеть (mesh)
- Ступица со спицами (hub-and-spokes)
- Полносвязаная сеть (full-mesh)

Типичной для WAN топологией является mesh, остальные можно рассматривать как её частные случаи. Типичной топологией для RAS (Remote Access Server) является point-to-point.

## 34. Особенности случайных методов доступа к моноканалу

Коллизией принято называть ситуацию, когда несколько передатчиков пытаются выставить противоположные уровни сигнала в СрПД. Коллизии могут возникать только в многоточечных топологиях (шина), при подобных подключениях передатчик и приемник станции подключены к одной цепи.

Окно коллизии – временной интервал, в течении которого любая станция гарантированно обнаруживает коллизию, равен удвоенному времени прохождения сигнала между двумя максимально удаленными станциями.

Методы доступа к моноканалу делят на:
- Случайные
- Детерминированные

При случайном методе существуют два подхода: допускать коллизии и как-то выходить из них (как в CSMA/CD) или стараться максимально не допускать коллизии (CSMA/CA).

Все случайные методы основаны на использовании генератора случайных чисел, который используется для генерации случайных задержек при доступе к моноканалу.

На эффективность случайных методов наиболее существенно влияют следующие факторы:
- Количество взаимодействующих станций
- Длина кадра
- Частота синхронизации

## 35. CSMA/CD (Ethernet)

Tcw – время окна коллизии, равно удвоенному времени прохождения сигнала между двумя максимально удаленными станциями.
Tj – время передачи jam-сигнала
Ts – слот-тайм, минимальная неделимая единица времени при диспетчеризации, Ts > Tcw + Tj

Сперва станция дожидается пока канал не будет свободен. После этого посылает фрейм и ждет Tcw. Если коллизия была обнаружена, то необходимо послать специальный jam-сигнал, чтобы другие станции тоже узнали о коллизии, и выждать Tcw. Jam-сигнал позволяет станциям синхронизировать начало отсчета случайных задержек. После этого необходимо инкрементировать счётчик попыток, если количество попыток перевалит за 16, то считается, что в моноканале не удастся передать сообщение (ошибка). Далее необходимо сгенерировать время для ожидания в слот-таймах:

0 <= r <= 2^k

Где r – число, умножив которое на Ts получается время для случайного выжидания; k – min (n, 10), где n – номер попытки.

После выжидания следует вновь дождаться свободности канала и повторить попытку отправки сообщения.

После удачной передачи сообщения счетчик должен обнулиться.

## 36. Кадр Ethernet

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/ef620e3e-a661-4d63-996e-8675e3bdec06)

Preamble – преамбула
SFD (Start Frame Delimiter) – разграничитель начала кадра
DA – адрес назначения
SA – адрес источника
Length/Type – длина, если больше 600h, то тип
Data – данные
Pad – наполнитель, если размер для данных больше, чем реальная длинна передаваемого сообщения
FCS (Frame Check Sequence) – контрольная сумма, используется для обнаружения ошибок

Ethernet заголовок имеет фиксированную длину.

## 37. CSMA/CA (Wi-Fi)

Алгоритм намного сложнее чем CSMA/CD. Как и в Ethernet случайная задержка измеряется в слот-таймах, но алгоритм другой. Количество слот таймов находится в диапазоне:

0 <= RANDOM <= CW,

Где CW (contention window) – окно состязаний, находится в диапазоне:

𝐶𝑊𝑚𝑖𝑛 ≤ 𝐶𝑊 ≤ 𝐶𝑊𝑚𝑎𝑥

И берется из ряда 2^n - 1 (7, 15, 31, …). Крайние значения зависят от возможностей физического уровня. Типичные значения 𝐶𝑊𝑚𝑖𝑛 = 15, 𝐶𝑊𝑚𝑎𝑥 = 1023.

В отличии от CSMA/CD после посылки кадра с сообщением, передающая сторона должна дождаться служебного кадра ACK. Если служебный кадр не пришел, то CW увеличивается и станция начинает выжидать межкадровый интервал.

В CSMA/CA есть два времени для ожидания: межкадровый интервал и короткий межкадровый интервал. Станции, которая хочет переслать кадр, необходимо выждать межкадровый интервал, а станции, которая хочет переслать подтверждение (ACK), необходимо выждать короткий межкадровый интервал.

После выжидания обычного межкадрового интервала каждая станция, желающая отправить кадр, вычисляет RANDOM в соответствии с CW и начинает ждать. Станция перед отправкой кадра прождет минимум RANDOM слот-таймов, а если при этом линия будет занята, то число RANDOM уменьшаться не будет. В этом и проявляется collision avoidance в названии.

## 38. Кадры Wi-Fi

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/a4bfb84a-12f7-4d3d-b6ad-b01be9dab994)

1. Frame Control – контроль кадра
2. Duration/ID – длительность-идентификатор (связано с QoS)
3. Address 1
4. Address 2
5. Address 3
6. Sequence control – контроль последовательности
7. Address 4
8. Frame Body – данные
9. FCS (Frame Control Sequence) – контрольная сумма
 
Поля контроля кадра:
1. Protocol version – версия протокола (до сих пор равна нулю)
2. Type – тип (0 – управление, 1 – контроль, 2 - данные)
3. Subtype – подтип
4. To DS – флаг направления к проводной системе
5. From DS – флаг направления из проводной системы
6. More Fragments – флаг, сообщающий о наличии ещё фрагментов для отправки (связан с фрагментацией в WiFi)
7. Retry – флаг повторной попытки передачи
8. Protected Frame – флаг шифрования

В WiFi в зависимости от подтипа кадра в полях адресов могут располагаться:
- BSSID – идентификатор беспроводного сегмента
- SA – адрес источника
- DA – адрес назначения
- TA – адрес станции-передатчика
- RA – адрес станции-приемника

## 39. Особенности детерминированных методов доступа к моноканалу

Детерминированные методы доступа к моноканалу хорошо ложатся на кольцевую топологию. Кольцо можно представить как моноканал, один такт которого равен полному либо частичному обходу кадром всех станций.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/3f1b80cb-48dc-486f-8b4d-4d6e67dc9c60)

В кольце не может возникнуть коллизий аналогичных коллизиям при шинной топологии, однако есть логические коллизии: если станция имеет собственный кадр для передачи и при этом получила из кольца ещё один кадр, то появляется задача определения какой кадр передавать дальше.

Для решения логических коллизий внедряется система приоритетов и арбитра, управляющего ими. Такой арбитр принято называть маркером (token).

## 40. Алгоритм Token Ring

В Token Ring предусмотрено централизованное управление, которое реализуется управляющей станцией (станцией-монитором). В её задачи входит инициализация подключившихся к кольцу станций, тактирование кольца, контроль над валидностью маркера и предотвращение зацикливания.

Есть 4 вида передаваемых последовательностей:
- Token
- Frame
- Abort Sequence
- Fill

При чем Frame порождается путем поглощения Token (в том числе его полей заголовка).

Приоритеты в Token Ring основаны на полях P (текущей приоритет) и R (запрашиваемый приоритет), их длина равна 3 битам.

Маркер передается по цепочке от станции к станции. Если у станции нет кадра для передачи, то она передает маркер дальше, если есть, то она захватывает маркер и преобразует его в кадр для передачи. Если передаваемый кадр придет на станцию, с кадром большего приоритета, то дальше будет передаваться он.

После прихода кадра к станции-назначению, она выставляет поля A и C, таким образом показывая, что сообщение успешно прочитано. За удаление кадра отвечает станция, его создавшая. После этого маркер освобождается и передается далее.

Существуют оптимизация early token release. Сразу вслед за кадром передается новый маркер, а старый маркер не воссоздается, таким образом в кольце одновременно может передаваться несколько кадров.

Владение маркером ограничено во времени и контролируется с помощью таймера THT (Token Holding Time).

Стековая станция – станция, имеющая два стека LIFO, использующихся для сохранения старого и нового приоритетов при его замене в кольце.

## 41. Реализации детерминированных методов доступа к моноканалу

- ARCNET (была популярна до распространения Ethernet, алгоритм Token Ring но без приоритетов, логическая топология – однонаправленное кольцо, физическая топология – шина или звезда)
- Token Bus (разрабатывали параллельно с Token Ring, стандарт 802.4, логическая топология – однонаправленное кольцо, физическая топология - шина)
- FDDI/CDDI (Fiber/Copper Distributed Data Interface) (FDDI разрабатывался специально для оптических СрПД, но быстро был вытеснен Fast Ethernet, логическая топология – однонаправленное кольцо с резервированием, физическая топология – двойное кольцо)
- 100VG-AnyLAN (была альтернативой Fast Ethernet, гибрид между Ethernet и Token Ring с совместимостью с их кадрами, стандарт 802.12, логическая топология – дерево, физическая топология - дерево)

## 42. Адресация в компьютерных сетях и классификация кадров

Для сетевого взаимодействия между станциями должен быть способ выделения нужной станции среди других, так возникает адресация.

В форматах большинства пакетов обязательно должны присутствовать адрес назначения и адрес источника.

В каждом пакете должен присутствовать как минимум адрес канального уровня (physical address), являющийся уникальным для конкретного сетевого оборудования и выделяемый самим производителем. Адреса сетевого и прикладного уровней (logical address) назначают пользователи.

Существует 4 типа адресации:
- Юникаст – пакет предназначен конкретной станции
- Бродкаст – пакет должен быть обработан всеми станциями
- Мультикаст – пакет должен быть обработан всеми станциями в определенной группе
- Эникаст – пакет должен быть обработан одной станцией из группы (самая сложная т.к. подразумевает наличие алгоритма выбора конкретной станции из группы)

## 43. MAC-адреса

MAC-адрес – адрес канального уровня модели OSI, используется для уникальной идентификации сетевого оборудования. Уникальность MAC-адресов контролирует IEEE Registration Authority.

МAC-адрес состоит из 48 бит.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/2fe1a6da-77d5-469e-8c2e-6041e67a30f7)

OUI (Organization Unique Identifier) – идентификатор производителя. В последних двух битах первого байта OUI располагаются специальные биты:
- U/L (Universal/Local) – выставлен в единицу, если при администрировании адрес был подменен на другой
- I/G (Individual/Group) – выставлен в 1, если адрес является бродкаст или мультикаст.

Extension Identifier выбирается производителем устройства.

Граница между OUI и Extension Identifier могут различаться.

По правилам IEEE MAC-адрес записывается следующим образом:
XX-XX-XX-XX-XX-XX

Однако это правило не всегда соблюдается.

Адрес FF-FF-FF-FF-FF-FF принято использовать в качестве бродкаст адреса.

## 44. Заголовок IPv4

Порядок расположения полей адресов и значения битов в поле флагов контр интуитивно.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/ebf53494-e951-494f-a3e4-883b463c18a2)

Version – равно 4

IHL (Internal header length) – длина заголовка (в 32-битных словах, минимум равно 5 (т.е. первые 5 строк картинки))

Total Length – общая длинна данных (в байтах, не может превышать 2^16 − 1)

Identification – уникальный идентификатор пакета (нужен при фрагментации)

Flags: первый бит пустой, DF (Don’t Fragment) – 0 – пакет фрагментирован, 1 – пакет не фрагментирован, MF (More Fragments) – 0 – текущий фрагмент является последним, 1 – текущий фрагмент не является последним

Fragment Offset – смещение текущего фрагмента

Time to Live – время жизни (при каждой ретрансляции уменьшается, когда равно нулю пакет уничтожается)

Protocol – протокол, инкапсулируемый в поле данных

Header Checksum – контрольная сумма заголовка

Source Address – адрес источника

Destination Address – адрес назначения

Options – опции, например, связанные с безопасностью, размер вариативен

Padding – наполнитель для выравнивания опций до 32 бит

## 45. Заголовок IPv6

Заголовок IPv6 гибкий: сколько заголовков нужно, столько и вставляется.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/26e91813-2376-464a-9afd-cf4980e14e76)

Version – равно 6

Payload length – длина полезной нагрузки

Next header – селектор следующего заголовка (аналог поля Protocol в IPv4)

Hop Limit – ограничитель числа прыжков (аналог поля Time To Live в IPv4)

Source Address – адрес источника

Destination Address – адрес назначения

## 46. Протокол ARP

Группа протоколов под названием ARPs (Address Resolution Protocols) предназначена для восстановления соответствия между MAC-адресами и IP-адресами.

Под прямым ARP понимают нахождение MAC по IP. Обратное преобразование выполняется по протоколу RARP (Reverse Address Resolution Protocols).

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/1a8a0f53-d456-4d49-8492-1dd258eda3b3)

Hrd (Hardware) – тип оборудования (Ethernet - 1)

Pro (Protocol) – протокол (IP - 800h)

HLn (Hardware address Length) – длина аппаратного (физического) адреса в байтах

PLn (Protocol address Length) – длина протокольного (логического) адреса в байтах

Op (Opcode) – код операции: 1 – Request, 2 – Reply и д.р.

SHA (Sender Hardware Address) – аппаратный адрес станции-отправителя

SPA (Sender Protocol Address) – протокольный адрес станции-отправителя

THA (Target Hardware Address) – аппаратный адрес станции-получателя

TPA (Target Protocol Address) – протокольный адрес станции-получателя

## 47. Структура Системы DNS

Протокол DNS предназначен для восстановления соответствий между IP-адресами и адресами прикладного уровня.

Домен – совокупность устройств, работающих в рамках некоторых единых правил.

DNS нельзя однозначно сопоставить с моделью OSI.

Система DNS соответствует клиент-серверной модели и включает три основных компонента:
- Domain name space и Resource Records
- Name servers
- Resolvers (программы, отвечающие на запросы клиентов)

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/80f45d22-fa06-4289-92e5-6dd6bf655ddf)

Адресное пространство доменных названий имеет иерархическую древовидную структуру. Каждый узел дерева обозначают меткой длиной от 0 до 63 байт (должна начинаться с буквы и может иметь в названии буквы любого регистра, цифры и символ -). Полная длина доменного названия не может превышать 255 байт. Метка с нулевой длиной является корнем дерева. Метки разделяют точками, и корневая метка является крайней справа.

## 48. Сообщения DNS

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/2b046355-48af-4e4a-b31f-776e26f9dfe9)

Заголовок присутствует всегда, остальные поля вариативные.

Header – заголовок

Question – вопрос

Answer – ответ

Authority – авторитетный ответ

Additional - дополнение

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/bdeb0d22-678d-4c3e-bd7b-479fe1853d37)

ID – идентификатор программы, сгенерировавшей запрос

Q/R – флаг запроса-ответа: 0 – запрос, 1 – ответ

Opcode – код операции (запроса)

AA – флаг авторитетного ответа

RCODE – код ответа

QDCOUNT (Query DNS COUNT) – количество Resource Records в поле Question

ANCOUNT (Answer COUNT) – количество Resource Records в поле Answer

NSCOUNT (Name Server COUNT) – количество Resource Records в поле Authority

ARCOUNT (Additional Records COUNT) – количество Resource Records в поле Additional

## 49. Виртуальные соединения в сети передачи данных

Одним из ключевых терминов транспортного уровня является термин соединения (connection). Если абоненты находятся в состоянии готовности передавать или принимать данные, то считают, что между ними установлено соединение.

Соединение может быть выражено неявно.

Существуют 2 вида соединений:
- Физические
- Виртуальные

Абоненты-программы физически соединены быть не могут, а значит к ним применимы только виртуальные соединения.

Существуют два способа организации взаимодействия:
- Без гарантированной доставки – усилия по доставке сообщений в СПД предпринимаются, но никаких гарантий нет (при необходимости, соответствующий контроль возлагается на программы-абоненты)
- С гарантией доставки – алгоритм работы транспортной службы гарантирует доставку пакетов

Соединения без гарантированной доставки смысла не имеют.

Сокет – привязка к виртуальному каналу, соединяющему между собой два взаимодействующих между собой виртуальных процесса, с учетом всех трех уровней адресации.

## 50. Классификация оконных механизмов, используемых в сети передачи данных

Оконный метод базируется на подходе передачи нескольких пакетов перед ожиданием квитанций.

По количеству передаваемых пакетов окна классифицируют на:
- Статические – неизменяемый размер окна (заложен в протокол или устанавливается на весь сеанс обмена)
- Динамические – размер окна может изменяться в процессе передачи сообщений

По способу обработки очереди пакетов, окно может быть:
- Фиксированным – перед формированием следующего окна должны быть приняты все соответствующие квитанции
- Скользящим – существует возможность сдвигать окно относительно последовательности пакетов

Наиболее сложным и гибким считается динамическое скользящие окно.

## 51. Структура системы TCP

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/e7a5007a-86ae-472c-91a9-c53f2b1dddc0)

TCP базируется на динамическом скользящем окне.

TCP соответствует клиент-серверной модели.

Применительно к каждому TCP-соединению нужно выделять приложение, производящее или потребляющее сетевые данные, и TCP-процесс, предоставляющий коммуникационные услуги (например, драйвер ОС). Их синхронизация осуществляется с помощью буферизации.

## 52. Заголовок TCP

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/986219df-1066-4b49-b199-c747ad544fd5)

Source Port – программный порт источника

Destination Port – программный порт назначения

Sequence Number (SN) – последовательный номер сегмента

Acknowledgment Number (AN) – подтверждающий номер

Data Offset – смещение данных

Reserved – зарезервировано (должно равняться нулю)

URG – флаг значимости указателя на экстренные данные

ACK – флаг значимости подтверждающего номера

SYN – флаг синхронизации последовательных номеров

FIN – флаг последних данных

Window (W) – предлагаемое окно

Checksum – контрольная сумма

Urgent Pointer – указатель на экстренные данные

Options – опции (например, MSS)

Padding – наполнитель

## 53. Протокол TCP

Функционирование оконного механизма TCP базируется на использовании трех полей в заголовке сегмента: SN, AN, W и трех флагов: SYN, ACK, FIN.

Протокол TCP базируется на концепции соединения, и реализуется следующим образом:

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/98921079-961b-4c2e-a81d-854e6aa802a4)

Хоть процесс установления соединения несимметричен, после его установления обмен данными может происходить в полнодуплексном режиме (т.е. в оба направления). Таким образом TCP-процесс, находящийся по одну сторону соединения, одновременно может быть как передатчиком данных, так и приемником.

Флаг SYN используется только при установлении соединения, а флаг ACK – в каждом ответном сегменте.

Поле SN пересылаемого сегмента отражает собственный SN этого сегмента, а поле AN указывает SN ожидаемого сегмента, коим является следующий по порядку сегмент.

Размер предлагаемого окна в поле W может изменяться каждый раз при посылке сегмента. Если W=0, то это расценивается как запрет на передачу данных.

TCP предоставляет гарантию доставки, которая реализуется через так называемые тайм-ауты.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/30939288-d336-43ad-bc38-f966c37b8393)

Флаг FIN используется для закрытия соединения с одной стороны. Если флаг FIN посылается только одной стороной, то соединения называют полу открытым. В таком состоянии сторона с закрытым соединением может только принимать данные и отправлять ACK, но не способно передавать данные.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/166ceaa5-1ca9-4873-b87c-0ec58af275a1)

## 54. Усовершенствования протокола TCP

Под синдромом глупого окна понимают несоответствие окна передачи с состоянием приемника, тем самым, не позволяя его либо нагрузить, либо разгрузить. Существует два решения:
- Нэгла (помогает при отправке небольших сегментов)
- Кларка (когда принимающая сторона имеет небольшое предлагаемое окно)

Для борьбы с перегрузками в СПД существует 4 решения:
- Медленный старт (подразумевает плавное увеличение размера окна, а не скачком)
- Избегание затора (подразумевает сдерживание экспоненциального роста размера текущего окна передачи после преодоления им некоторого порога, обычно применяется после медленного старта)
- Быстрая повторная передача (подразумевает уведомление принимающей стороной передающую о потере пакета, с последующей повторной отправкой потерянного пакета до истечения тайм-аута)

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/60a613be-10fc-4966-816d-23ef2213b999)

- Быстрое восстановление (подразумевает переход к избеганию затора после обнаружения оного, минуя медленный старт)

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/f90c1e00-0d44-4ec7-a6b6-56ebdcfdd79a)

## 55. Протокол UDP и заголовок UDP

UDP (User Datagram Protocol) – протокол транспортного уровня, реализует передачу данных без гарантий доставки и порядка принимаемых пакетов. Не базируется на виртуальном соединении.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/8f3be14d-ffe5-472b-bf3a-57a7515753bc)

Source Port – программный порт источника

Destination Port – программный порт назначения

Length – длинна датаграммы включая заголовок (в байтах)

Checksum – контрольная сумма (псевдозаголовка + заголовка + данных)

При вкладывании UDP-дейтаграммы в IP пакет, между ними вставляется UDP-псевдозаголовок, дублирующий некоторые поля из основного IP заголовка.

## 56. Классификация и характеристики сред передачи данных

Все основные в КС СрПД можно разделить на пять типов:
- Коаксиальные кабели
- Кабели на основе витых пар
- Оптоволоконные кабели
- Эфир
- Телефонные пары

В КС в основном применяются различные кабели (имеющие внутри несколько проводов).

По области применения кабели делят на:
- Кабели для внешней прокладки (СПД на улице)
- Кабели для внутренней прокладки (СПД в помещениях)
- Оконечные кабели (для подключения рабочих мест)

К кабелям внешней прокладки выдвигают больше требований, чем к кабелям внутренней.

Многие сведения о характеристиках кабеля производители указывают на изоляции.

## 57. Среды передачи данных на основе коаксиальных кабелей

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/45359758-4c5a-4d3e-b738-5e9d060f2542)

Для формирования сегмента на базе коаксиального кабеля необходимо соответствующее количество BNC-разъемов (для подключения к рабочей станции), T-соединителей (для вывода кабеля в сторону рабочей станции) и пара терминаторов (на концах кабеля), один из которых заземляют.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/6922819e-d542-4037-be41-0d92e54761c2)

Коаксиальные кабели выпускаются черными, реже серыми.

## 58. Среды передачи данных на основе витой пары

Выделяют 4 вида витых пар.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/e86a0a91-175b-48ce-8bb6-6013741547ec)

Где TP – Twisted Pair, S – Shielded, U – Unshielded + может быть F – Foiled (если для изготовления экрана применена фольга)

Обычно витыми парами соединяют разноранговое сетевое оборудование (например, пользовательскую станцию подключают к коммутатору). Если надо подключить одноранговые устройства (например, две станции пользователя) используют кросс-кабели.

Для подключения кабелей на основе витых пар применяют разъемы RJ45.

У нас принято такое расположение проводов в штекере:

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/2ad8edc5-57fe-495e-9ff6-1e8714b0ab7a)

Обычные кабели имеют серый цвет, другие цвета (оранжевый, белый) говорят о более высоком качестве (например, по пожарной безопасности).

## 59. Среды передачи данных на основе оптоволоконных кабелей

Рабочим компонентом оптоволоконных кабелей являются световоды, изготовленные из оптоволокна, т.е. особого кварцевого стекла. Так как оптоволокно очень хрупкое, его многократно защищают различными способами.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/ea100d57-dec0-4ded-adaf-ef1dccf3a122)

В стандартах предусмотрены 8 базовых видов световодов: OM1, OM2, OM3, OM4, OM5, OS1, OS1a, OS2.

Оптоволоконные кабели делят на два типа:
- Содержащие упрочняющие металлизированные конструкции или проводники
- Полностью диэлектрические

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/ed0d0d44-f091-4c80-93e4-a09c11e2e5f2)

Оптоволоконные соединения выполняют двумя способами:
- Разъемным
- Неразъемным

## 60. Физический уровень Ethernet

Не повезло.

## 61. Структурированные кабельные системы и их модели

Структурированная кабельная система – упорядоченная совокупность телекоммуникационных и силовых кабелей, различного сетевого оборудования, а также соответствующих специализированных помещений.

СКС включает в себя три подсистемы:
- Подсистема внешних магистралей (организация связи между зданиями на небольшой территории)
- Подсистема внутренних магистралей или вертикальная (связывает между собой этажи одного здания)
- Горизонтальная подсистема (связывает между собой оборудование в пределах этажа)

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/bd034366-4703-4826-b96e-78256d794c4c)

Основная древовидная модель СКС

КВМ – кроссовая внешних магистралей

КЗ – кроссовая здания

КЭ – кроссовая этажа

ТП – точка перехода

ИР – информационная розетка рабочего места

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/bbf9c7b5-6a48-43e1-ba8a-5f07ddd4f134)

Функциональная модель СКС здания

## 62. Питание и заземление в структурированных кабельных системах

Заземление необходимо для:
- Предотвращения удара током людей
- Защиты кабелей и сетевого оборудования от выхода из строя и помех
- Обеспечения возможности прохождения сигналов применительно к некоторым видам сетевого оборудования

Согласно стандарту TIA-607, в дополнение к основному контуру заземления здания либо сооружения, создают так называемый телекоммуникационный контур заземления.

Рекомендации стандартов по заземлению экранов кабелей:
- В аппаратных и кроссовых экраны должны заземляться по возможности на телекоммуникационный контур
- Экраны вертикальной подсистемы должны заземляться с обоих концов
- Экраны горизонтальной подсистемы достаточно заземлять с одного конца

## 63. Пожарная безопасность структурированных кабельных систем

Существует 4 уровня классификации кабелей относительно пожарной безопасности:
- Plenum – кабели для прокладки в plenum-полостях (есть приток воздуха, для постоянного горения)
- Riser – кабели для прокладки в кабельных шахтах
- General purpose – кабели для прокладки где угодно, кроме plenum-полостей и кабельных шахт
- Residential – кабели на прокладку которых наложены ограничения (например, только для жилых помещений)

В состав маркировок кабелей часто входят буквенные обозначения материалов оболочек:
- PVC (PolyVinyl Chloride) – ПВХ
- PE (PolyEthylene) – полиэтилен
- PA (PolyAmide) – полиамид (нейлон)
- FR (Flame Retardant) – огнестойкий
- LS (Low Smoke) – низкое выделение дыма при горении
- NC (None Corrosive) – не подвержен коррозии
- UVR (Ultra Violet Resistant) – не подвержен влиянию ультрафиолетового излучения
- HF (Halogen Free) – не содержит галогенов

## 64. Технология PoE

PoE (Power over Ethernet) – технологии, задачей которых является предоставления способа запитки маломощных Ethernet устройств через информационные кабели (на основе витых пар).

Существует два соответствующих стандарта: 802.3af и 802.3at, однако множество производителей используют свои проприетарные технологии.

В структуру PoE-системы входят:
- PSE (Power Sourcing Equipment) – вводит питающее напряжение в кабель
- PD (Power Device) – питается от напряжения
- 
PSE может располагаться либо на конце кабеля, либо вклиниваться в кабель (PoE-инжектор).

## 66. Структура системы FTP

FTP (File Transfer Protocol) – протокол прикладного уровня, предназначенный для пересылки файлов между двумя удаленными станциями. Базируется на клиент-серверной модели и использует транспорт TCP.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/ebae68ca-90e7-487d-83bd-86a801d10f4c)

FTP-клиент обслуживает запросы пользователя и работает на локальной по отношению к пользователю станции.

FTP-сервер обслуживает запросы FTP-клиента и работает на удаленной станции.

Выделяют протокольные интерпретаторы и процессы пересылки данных.

FTP задействует два соединения, а значит и два порта:
- 20 – FTP Data – информационное соединение
- 21 – FTP – управляющее соединение

## 67. Протокол FTP и режимы обмена по протоколу FTP

Взаимодействие по протоколу FTP базируется на модели запрос-ответ с применением тайм-аутов.

FTP-команда представляет из себя последовательность из 3-4 букв (регистр не учитывается), за которыми могут следовать аргументы, разделяемые пробелом `<SP>`. Команда завершается символами возврата каретки и перевода строки `<CRLF>`.

Некоторые команды протокола FTP:
- USER `<username>` - имя пользователя
- PASS `<password>` - пароль, должна следовать после USER
- CWD `<pathname>` - сменить рабочий каталог удаленной ФС
- CDUP – перейти к родительскому каталогу
- QUIT – выход из удаленной системы
- PORT `<host-port>` - Совокупность IP-адреса и номера порта, необходимая для создания data connection (`<h1>`,`<h2>`,`<h3>`,`<h4>`,`<p1>`,`<p2>`)
- PASV – установить пассивный режим обмена
- TYPE `<typecode>` - файловое представление
- RETR `<pathname>` - загрузить файл с FTP-сервера (download)
- STOR `<pathname>` - загрузить файл на FTP-сервер (upload) (если файл с таким названием уже есть, то перезаписать)
- APPE `<pathname>` - загрузить файл на FTP-сервер с (upload) (если файл с таким названием уже есть, то данные дописываются в конец)
- DELE `<pathname>` - удалить файл или каталог на FTP-сервере
- RMD `<pathname>` - удалить каталог на FTP-сервере
- MKD `<pathname>` - создать каталог на FTP-сервере
- PWD – вывести на экран рабочий каталог
- LIST [ `<pathname>`] – вывести список файлов удаленного каталога

Каждый FTP-запрос должен сопровождаться как минимум одним FTP-ответом.

FTP-ответ кодируется так:

Xyz `<SP>` `<text>` `<CRLF>`

Где xyz – целочисленный трехбайтный код

Коды предназначены для техники, а текст для людей.
X – идентифицирует статус завершения
Y – подробности

В зависимости от того, какая сторона является инициатором установления информационного соединения различают активный и пассивный режимы обмена. Активный режим более предпочтителен.

Отличие активного и пассивного режимов заключается в том, как создается информационное соединение: в активном режиме это происходит через команду PORT `<p>` от клиента к серверу, где `<p>` - динамически выделенный порт клиента, `<p>` <-> 20; в пассивном режиме клиент отправляет команду PASV, ответом на которую является динамически выделенный порт сервера `<p2>`, после чего выделяется динамический порт клиента `<p1>` и происходит создание связи `<p1>` <-> `<p2>`.

## 68. Структура и особенности системы Telnet

Протокол Telnet (Terminal Network) реализует концепцию NVT (Network Virtual Terminal), уходящий корнями в UNIX-системы.

Telnet базируется на клиент-серверной модели и использует транспорт TCP.

Задействуется одно соединение.

Стандартный номер программного порта Telnet-сервера – 23.

![image](https://github.com/amateomi/VMSiS-networks/assets/74430714/31f94baf-0ba4-47b4-9b2f-cb89b2e81840)

Задачей протокола Telnet является транспортировка символов потоков ввода-вывода между NVT и хостом.

Используется буферизация, в том числе чтобы излишне не загружать СПД.

Есть два режима:
- По умолчанию (набранные символы отсылаются незамедлительно)
- Linemode (символы отсылаются после нажатия Enter)

Главным недостатком Telnet является незащищенность пересылаемых данных, поэтому на его смену пришел SSH.

## 69. Электронные письма и почтовые ящики

Сообщениями протоколов электронной почты являются электронные письма (emails). Электронные письма имеют текстовую природу. По аналогии с бумажным письмом электронное письмо также состоит из конверта и содержимого, которое состоит из заголовка и основного текста. Изначально в отношении всех компонентов электронного письма допускались только 7-мибитная кодировка US-ASCII.

Значимым элементом электронной почты является MIME, позволяющий включать в основной текст электронного письма различные мультимедийные данные (изображения, звук, видео, и другие электронные данные).

Одним из ключевых понятий системы электронной почты является понятие почтового ящика. Электронный почтовый ящик по своей сути ничем не отличается от почтового ящика для бумажных писем, но не всегда представляет из себя файловое хранилище.

Почтовые ящики могут находиться как на выделенных почтовых серверах, так и на пользовательских станциях. Могут быть как локальными, так и удаленными от пользователя.
